<figure class="vote-card" [ngClass]="mode == 'List' ? 'full-card' : 'grid-card'" [style.background]="cardImage">
    <div class="vote-card__trend">
        <div class="vote-button button--good" *ngIf="trend === 'positive'; else negativeTrend">
            <svg width="26" height="26" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M5.59333 11.1611C8.49999 7.11295 9.53128 5.95912 9.35917 3.61581C9.18706 1.2725 9.67939 0.628166 10.8506 0.512783C12.0217 0.3974 14.2207 1.00154 14.6068 4.83705C14.7734 6.49649 13.5206 9.76351 13.5206 9.76351L22.2866 9.76805C23.5277 9.76805 24.5 10.2704 24.5 11.8715C24.5 13.3715 22.7467 13.8227 22.7467 13.8227C23.4419 14.1187 23.8833 14.7783 23.8685 15.499C23.8727 16.5158 23.0077 17.3451 21.9321 17.3555C22.6678 17.635 23.0881 18.3707 22.9318 19.1056C22.7984 19.9865 22.0773 20.6844 21.149 20.8312C21.7569 21.2378 22.0083 21.9747 21.7661 22.6404C21.3725 23.5194 20.3337 24.4885 18.0003 24.4885L7.0998 24.4885C6.45106 24.5661 5.82155 24.2465 5.53162 23.6924L5.53162 11.6511C5.5271 11.4858 5.54789 11.3208 5.59333 11.1611ZM0.499998 10.3871L4.76433 10.3871L4.76433 24.4859L0.499996 24.4859L0.499998 10.3871Z" fill="white"/>
            </svg>               
        </div>
        <ng-template #negativeTrend>
            <div class="vote-button button--bad">
                <svg width="24" height="24" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M19.4067 13.8389C16.5 17.887 15.4687 19.0409 15.6408 21.3842C15.8129 23.7275 15.3206 24.3718 14.1494 24.4872C12.9783 24.6026 10.7793 23.9984 10.3932 20.1629C10.2266 18.5035 11.4793 15.2365 11.4793 15.2365L2.71343 15.2319C1.47232 15.2319 0.500006 14.7296 0.500006 13.1285C0.500006 11.6285 2.25333 11.1773 2.25333 11.1773C1.55809 10.8813 1.1167 10.2217 1.13153 9.50103C1.12733 8.48417 1.99233 7.65486 3.06793 7.64453C2.33217 7.36502 1.91188 6.62925 2.06819 5.89434C2.2016 5.01353 2.92267 4.31563 3.85099 4.16878C3.2431 3.76221 2.99174 3.0253 3.23387 2.35961C3.62746 1.48062 4.66629 0.511534 6.9997 0.511534L17.9002 0.511534C18.5489 0.433914 19.1784 0.753454 19.4684 1.30755L19.4684 13.3489C19.4729 13.5142 19.4521 13.6792 19.4067 13.8389ZM24.5 14.6129H20.2357L20.2357 0.514116H24.5L24.5 14.6129Z" fill="white"/>
                </svg>                
            </div>
        </ng-template>
    </div>
    <div class="vote-card__content">
        <div class="vote-card__data">
            <h5 class="vote-card__data__title">{{data.name}}</h5>
            <figcaption class="vote-card__data__description">{{data.description}}</figcaption>
        </div>
        <div class="vote-card__actions">
            <div class="vote-card__actions__info">
                <label *ngIf="!voted; else ThanksLabel">{{data.lastUpdated | time}} in {{data.category}}</label>
                <ng-template #ThanksLabel>
                    <label>Thank you for your vote!</label>
                </ng-template>
            </div>
            <div class="vote-card__actions__buttons">
                <button class="vote-button button--good action-button" (click)="positiveVote()" [class.activeVote]= "selectedVote === 0" [class.voted]="voted">
                    <svg width="26" height="26" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M5.59333 11.1611C8.49999 7.11295 9.53128 5.95912 9.35917 3.61581C9.18706 1.2725 9.67939 0.628166 10.8506 0.512783C12.0217 0.3974 14.2207 1.00154 14.6068 4.83705C14.7734 6.49649 13.5206 9.76351 13.5206 9.76351L22.2866 9.76805C23.5277 9.76805 24.5 10.2704 24.5 11.8715C24.5 13.3715 22.7467 13.8227 22.7467 13.8227C23.4419 14.1187 23.8833 14.7783 23.8685 15.499C23.8727 16.5158 23.0077 17.3451 21.9321 17.3555C22.6678 17.635 23.0881 18.3707 22.9318 19.1056C22.7984 19.9865 22.0773 20.6844 21.149 20.8312C21.7569 21.2378 22.0083 21.9747 21.7661 22.6404C21.3725 23.5194 20.3337 24.4885 18.0003 24.4885L7.0998 24.4885C6.45106 24.5661 5.82155 24.2465 5.53162 23.6924L5.53162 11.6511C5.5271 11.4858 5.54789 11.3208 5.59333 11.1611ZM0.499998 10.3871L4.76433 10.3871L4.76433 24.4859L0.499996 24.4859L0.499998 10.3871Z" fill="white"/>
                    </svg>                        
                </button>
                <button class="vote-button button--bad action-button" (click)="negativeVote()" [class.activeVote]= "selectedVote === 1" [class.voted]="voted">
                    <svg width="24" height="24" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.4067 13.8389C16.5 17.887 15.4687 19.0409 15.6408 21.3842C15.8129 23.7275 15.3206 24.3718 14.1494 24.4872C12.9783 24.6026 10.7793 23.9984 10.3932 20.1629C10.2266 18.5035 11.4793 15.2365 11.4793 15.2365L2.71343 15.2319C1.47232 15.2319 0.500006 14.7296 0.500006 13.1285C0.500006 11.6285 2.25333 11.1773 2.25333 11.1773C1.55809 10.8813 1.1167 10.2217 1.13153 9.50103C1.12733 8.48417 1.99233 7.65486 3.06793 7.64453C2.33217 7.36502 1.91188 6.62925 2.06819 5.89434C2.2016 5.01353 2.92267 4.31563 3.85099 4.16878C3.2431 3.76221 2.99174 3.0253 3.23387 2.35961C3.62746 1.48062 4.66629 0.511534 6.9997 0.511534L17.9002 0.511534C18.5489 0.433914 19.1784 0.753454 19.4684 1.30755L19.4684 13.3489C19.4729 13.5142 19.4521 13.6792 19.4067 13.8389ZM24.5 14.6129H20.2357L20.2357 0.514116H24.5L24.5 14.6129Z" fill="white"/>
                    </svg> 
                </button>
                <button class="vote-trigger" [disabled]="selectedVote === 2" (click)="vote()" [class.vote-trigger--dark]="voted">{{voteText}}</button>
            </div>
        </div>
    </div>
    <div class="vote-card__percentage-bar">
        <div class="vote-card__percentage-bar__item percentage--good" [style.width]="positivePercentage+'%'"></div>
        <div class="vote-card__percentage-bar__item percentage--bad" [style.width]="negativePercentage+'%'"></div>
        <div class="vote-card__percentage-bar__label">
            <div class="vote-card__percentage-bar__label--left">
                <svg width="22" height="22" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M5.59333 11.1611C8.49999 7.11295 9.53128 5.95912 9.35917 3.61581C9.18706 1.2725 9.67939 0.628166 10.8506 0.512783C12.0217 0.3974 14.2207 1.00154 14.6068 4.83705C14.7734 6.49649 13.5206 9.76351 13.5206 9.76351L22.2866 9.76805C23.5277 9.76805 24.5 10.2704 24.5 11.8715C24.5 13.3715 22.7467 13.8227 22.7467 13.8227C23.4419 14.1187 23.8833 14.7783 23.8685 15.499C23.8727 16.5158 23.0077 17.3451 21.9321 17.3555C22.6678 17.635 23.0881 18.3707 22.9318 19.1056C22.7984 19.9865 22.0773 20.6844 21.149 20.8312C21.7569 21.2378 22.0083 21.9747 21.7661 22.6404C21.3725 23.5194 20.3337 24.4885 18.0003 24.4885L7.0998 24.4885C6.45106 24.5661 5.82155 24.2465 5.53162 23.6924L5.53162 11.6511C5.5271 11.4858 5.54789 11.3208 5.59333 11.1611ZM0.499998 10.3871L4.76433 10.3871L4.76433 24.4859L0.499996 24.4859L0.499998 10.3871Z" fill="white"/>
                </svg> 
                <label>{{positivePercentage | percentage}}</label>
            </div>
            <div class="vote-card__percentage-bar__label--right">
                <label>{{negativePercentage | percentage}}</label>
                <svg width="22" height="22" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M5.59333 11.1611C8.49999 7.11295 9.53128 5.95912 9.35917 3.61581C9.18706 1.2725 9.67939 0.628166 10.8506 0.512783C12.0217 0.3974 14.2207 1.00154 14.6068 4.83705C14.7734 6.49649 13.5206 9.76351 13.5206 9.76351L22.2866 9.76805C23.5277 9.76805 24.5 10.2704 24.5 11.8715C24.5 13.3715 22.7467 13.8227 22.7467 13.8227C23.4419 14.1187 23.8833 14.7783 23.8685 15.499C23.8727 16.5158 23.0077 17.3451 21.9321 17.3555C22.6678 17.635 23.0881 18.3707 22.9318 19.1056C22.7984 19.9865 22.0773 20.6844 21.149 20.8312C21.7569 21.2378 22.0083 21.9747 21.7661 22.6404C21.3725 23.5194 20.3337 24.4885 18.0003 24.4885L7.0998 24.4885C6.45106 24.5661 5.82155 24.2465 5.53162 23.6924L5.53162 11.6511C5.5271 11.4858 5.54789 11.3208 5.59333 11.1611ZM0.499998 10.3871L4.76433 10.3871L4.76433 24.4859L0.499996 24.4859L0.499998 10.3871Z" fill="white"/>
                </svg> 
            </div>
        </div>
    </div>
</figure>
